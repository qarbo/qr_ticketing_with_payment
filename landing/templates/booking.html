 <!-- home.html -->
{% extends 'base.html' %}
{% load static %}

{% block content %}

    <h3 style="color: lightgray">Select floor</h3>
    <button class="toggle-button toggle-button">Bar Tabs</button>
    <div class="toggle-content" style="display: none">
        <img class="scheme-image" src="{% static '/img/map_bar.png' %}">
    </div>

    <button class="toggle-button toggle-button">Sakura</button>
    <div class="toggle-content" style="display: none">
        <img class="upper-level" src="{% static '/img/map_sakura.png' %}">
    </div>

    <button class="toggle-button toggle-button">Stage</button>
    <div class="toggle-content" style="display: none">
        <img class="upper-level" src="{% static '/img/map_stage.png' %}">
    </div>

    <button class="toggle-button toggle-button">View</button>
    <div class="toggle-content" style="display: none">
        <img class="upper-level" src="{% static '/img/map_view.png' %}">
    </div>

<!--    <div class="schemes-container">-->
<!--        <img class="scheme-image" src="{% static '/img/map_bar.png' %}">-->
<!--        <img class="upper-level" src="{% static '/img/map_sakura.png' %}">-->
<!--        <img class="upper-level" src="{% static '/img/map_stage.png' %}">-->
<!--        <img class="upper-level" src="{% static '/img/map_view.png' %}">-->
<!--    </div>-->


    <form id="booking-form" action="/booking/create-checkout-session/" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <p style="color: #ababab; font-size: 12px">You will see your ticket on the website after payment, and it will be sent to your email</p>
        <p style="color: #ababab; font-size: 12px">Билет будет доступен Вам на сайте после оплаты и будет отправлен на ваш email</p>
        <button type="submit" class="booking-submit-table" value="table">Checkout / Перейти к оплате</button>
        <p class="final-price">Final price / Итоговая цена: 0</p>
    </form>

    <script>
        $("body").on("submit", "form", function() {
            $(".loading-container").css('display', 'flex');
            $(this).submit(function() {
                return false;
            });
            return true;
        });
        const toggleButtons = document.querySelectorAll('.toggle-button');
        const toggleContents = document.querySelectorAll('.toggle-content');

        toggleButtons.forEach((button, index) => {
            button.addEventListener('click', () => {
                toggleContents[index].style.display = toggleContents[index].style.display === 'none' ? 'block' : 'none';
            });
        });
    </script>
{% endblock %}